{
  "format_version": "1.2",
  "terraform_version": "1.5.0",
  "planned_values": {
    "root_module": {
      "resources": [
        {
          "address": "aws_s3_bucket.example",
          "mode": "managed",
          "type": "aws_s3_bucket",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "bucket": "my-tf-test-bucket",
            "force_destroy": false,
            "tags": {
              "Environment": "Dev",
              "Name": "My bucket"
            },
            "tags_all": {
              "Environment": "Dev",
              "Name": "My bucket"
            },
            "timeouts": null
          },
          "sensitive_values": {
            "cors_rule": [],
            "grant": [],
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "replication_configuration": [],
            "server_side_encryption_configuration": [],
            "tags": {},
            "tags_all": {},
            "versioning": [],
            "website": []
          }
        },
        {
          "address": "aws_s3_bucket_policy.b",
          "mode": "managed",
          "type": "aws_s3_bucket_policy",
          "name": "b",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "address": "data.aws_iam_policy_document.HIPSECURITY",
          "mode": "data",
          "type": "aws_iam_policy_document",
          "name": "HIPSECURITY",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:GetAccessPoint",
                  "s3:GetAccessPointPolicy",
                  "s3:GetAccessPointPolicyStatus",
                  "s3:GetAccountPublicAccessBlock",
                  "s3:GetBucketAcl",
                  "s3:GetBucketLocation",
                  "s3:GetBucketPolicy",
                  "s3:GetBucketPolicyStatus",
                  "s3:GetBucketPublicAccessBlock",
                  "s3:ListAccessPoints",
                  "s3:ListAllMyBuckets"
                ],
                "condition": [],
                "effect": null,
                "not_actions": null,
                "not_principals": [],
                "not_resources": null,
                "principals": [
                  {
                    "identifiers": [
                      "access-analyzer.amazonaws.com"
                    ],
                    "type": "Service"
                  },
                  {
                    "identifiers": [
                      "arn:aws:iam::1234567890:role/HIPAWSServiceConfigRole",
                      "arn:aws:iam::1234567890:role/HIPSecurityAuditRole"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  null
                ],
                "sid": "Enable Audit Access"
              }
            ],
            "version": null
          },
          "sensitive_values": {
            "statement": [
              {
                "actions": [
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false,
                  false
                ],
                "condition": [],
                "not_principals": [],
                "principals": [
                  {
                    "identifiers": [
                      false
                    ]
                  },
                  {
                    "identifiers": [
                      false,
                      false
                    ]
                  }
                ],
                "resources": [
                  false
                ]
              }
            ]
          }
        }
      ],
      "child_modules": [
        {
          "resources": [
            {
              "address": "module.dynamodb_table.aws_dynamodb_table.this[0]",
              "mode": "managed",
              "type": "aws_dynamodb_table",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "attribute": [
                  {
                    "name": "id",
                    "type": "N"
                  }
                ],
                "billing_mode": "PAY_PER_REQUEST",
                "deletion_protection_enabled": null,
                "global_secondary_index": [],
                "hash_key": "id",
                "import_table": [],
                "local_secondary_index": [],
                "name": "my-table",
                "point_in_time_recovery": [
                  {
                    "enabled": false
                  }
                ],
                "range_key": null,
                "replica": [],
                "restore_date_time": null,
                "restore_source_name": null,
                "restore_to_latest_time": null,
                "server_side_encryption": [
                  {
                    "enabled": false
                  }
                ],
                "stream_enabled": false,
                "table_class": null,
                "tags": {
                  "Environment": "staging",
                  "Name": "my-table",
                  "Terraform": "true"
                },
                "tags_all": {
                  "Environment": "staging",
                  "Name": "my-table",
                  "Terraform": "true"
                },
                "timeouts": {
                  "create": "10m",
                  "delete": "10m",
                  "update": "60m"
                },
                "ttl": [
                  {
                    "attribute_name": "",
                    "enabled": false
                  }
                ]
              },
              "sensitive_values": {
                "attribute": [
                  {}
                ],
                "global_secondary_index": [],
                "import_table": [],
                "local_secondary_index": [],
                "point_in_time_recovery": [
                  {}
                ],
                "replica": [],
                "server_side_encryption": [
                  {}
                ],
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "ttl": [
                  {}
                ]
              }
            }
          ],
          "address": "module.dynamodb_table"
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "data.aws_iam_policy_document.HIPSECURITY",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "HIPSECURITY",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "override_json": null,
          "override_policy_documents": null,
          "policy_id": null,
          "source_json": null,
          "source_policy_documents": null,
          "statement": [
            {
              "actions": [
                "s3:GetAccessPoint",
                "s3:GetAccessPointPolicy",
                "s3:GetAccessPointPolicyStatus",
                "s3:GetAccountPublicAccessBlock",
                "s3:GetBucketAcl",
                "s3:GetBucketLocation",
                "s3:GetBucketPolicy",
                "s3:GetBucketPolicyStatus",
                "s3:GetBucketPublicAccessBlock",
                "s3:ListAccessPoints",
                "s3:ListAllMyBuckets"
              ],
              "condition": [],
              "effect": null,
              "not_actions": null,
              "not_principals": [],
              "not_resources": null,
              "principals": [
                {
                  "identifiers": [
                    "access-analyzer.amazonaws.com"
                  ],
                  "type": "Service"
                },
                {
                  "identifiers": [
                    "arn:aws:iam::1234567890:role/HIPAWSServiceConfigRole",
                    "arn:aws:iam::1234567890:role/HIPSecurityAuditRole"
                  ],
                  "type": "AWS"
                }
              ],
              "resources": [
                null
              ],
              "sid": "Enable Audit Access"
            }
          ],
          "version": null
        },
        "after_unknown": {
          "id": true,
          "json": true,
          "minified_json": true,
          "statement": [
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                },
                {
                  "identifiers": [
                    false,
                    false
                  ]
                }
              ],
              "resources": [
                true
              ]
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "not_principals": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                },
                {
                  "identifiers": [
                    false,
                    false
                  ]
                }
              ],
              "resources": [
                false
              ]
            }
          ]
        }
      },
      "action_reason": "read_because_config_unknown"
    },
    {
      "address": "aws_s3_bucket.example",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "example",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "bucket": "my-tf-test-bucket",
          "force_destroy": false,
          "tags": {
            "Environment": "Dev",
            "Name": "My bucket"
          },
          "tags_all": {
            "Environment": "Dev",
            "Name": "My bucket"
          },
          "timeouts": null
        },
        "after_unknown": {
          "acceleration_status": true,
          "acl": true,
          "arn": true,
          "bucket_domain_name": true,
          "bucket_prefix": true,
          "bucket_regional_domain_name": true,
          "cors_rule": true,
          "grant": true,
          "hosted_zone_id": true,
          "id": true,
          "lifecycle_rule": true,
          "logging": true,
          "object_lock_configuration": true,
          "object_lock_enabled": true,
          "policy": true,
          "region": true,
          "replication_configuration": true,
          "request_payer": true,
          "server_side_encryption_configuration": true,
          "tags": {},
          "tags_all": {},
          "versioning": true,
          "website": true,
          "website_domain": true,
          "website_endpoint": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "cors_rule": [],
          "grant": [],
          "lifecycle_rule": [],
          "logging": [],
          "object_lock_configuration": [],
          "replication_configuration": [],
          "server_side_encryption_configuration": [],
          "tags": {},
          "tags_all": {},
          "versioning": [],
          "website": []
        }
      }
    },
    {
      "address": "aws_s3_bucket_policy.b",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "b",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {},
        "after_unknown": {
          "bucket": true,
          "id": true,
          "policy": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.dynamodb_table.aws_dynamodb_table.this[0]",
      "module_address": "module.dynamodb_table",
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "attribute": [
            {
              "name": "id",
              "type": "N"
            }
          ],
          "billing_mode": "PAY_PER_REQUEST",
          "deletion_protection_enabled": null,
          "global_secondary_index": [],
          "hash_key": "id",
          "import_table": [],
          "local_secondary_index": [],
          "name": "my-table",
          "point_in_time_recovery": [
            {
              "enabled": false
            }
          ],
          "range_key": null,
          "replica": [],
          "restore_date_time": null,
          "restore_source_name": null,
          "restore_to_latest_time": null,
          "server_side_encryption": [
            {
              "enabled": false
            }
          ],
          "stream_enabled": false,
          "table_class": null,
          "tags": {
            "Environment": "staging",
            "Name": "my-table",
            "Terraform": "true"
          },
          "tags_all": {
            "Environment": "staging",
            "Name": "my-table",
            "Terraform": "true"
          },
          "timeouts": {
            "create": "10m",
            "delete": "10m",
            "update": "60m"
          },
          "ttl": [
            {
              "attribute_name": "",
              "enabled": false
            }
          ]
        },
        "after_unknown": {
          "arn": true,
          "attribute": [
            {}
          ],
          "global_secondary_index": [],
          "id": true,
          "import_table": [],
          "local_secondary_index": [],
          "point_in_time_recovery": [
            {}
          ],
          "read_capacity": true,
          "replica": [],
          "server_side_encryption": [
            {
              "kms_key_arn": true
            }
          ],
          "stream_arn": true,
          "stream_label": true,
          "stream_view_type": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "ttl": [
            {}
          ],
          "write_capacity": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "attribute": [
            {}
          ],
          "global_secondary_index": [],
          "import_table": [],
          "local_secondary_index": [],
          "point_in_time_recovery": [
            {}
          ],
          "replica": [],
          "server_side_encryption": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "ttl": [
            {}
          ]
        }
      }
    }
  ],
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "version_constraint": "~> 5.0",
        "expressions": {
          "region": {
            "constant_value": "ap-southeast-2"
          }
        }
      }
    },
    "root_module": {
      "resources": [
        {
          "address": "aws_s3_bucket.example",
          "mode": "managed",
          "type": "aws_s3_bucket",
          "name": "example",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "constant_value": "my-tf-test-bucket"
            },
            "tags": {
              "constant_value": {
                "Environment": "Dev",
                "Name": "My bucket"
              }
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_s3_bucket_policy.b",
          "mode": "managed",
          "type": "aws_s3_bucket_policy",
          "name": "b",
          "provider_config_key": "aws",
          "expressions": {
            "bucket": {
              "references": [
                "aws_s3_bucket.example.id",
                "aws_s3_bucket.example"
              ]
            },
            "policy": {
              "references": [
                "data.aws_iam_policy_document.HIPSECURITY.json",
                "data.aws_iam_policy_document.HIPSECURITY"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "data.aws_iam_policy_document.HIPSECURITY",
          "mode": "data",
          "type": "aws_iam_policy_document",
          "name": "HIPSECURITY",
          "provider_config_key": "aws",
          "expressions": {
            "statement": [
              {
                "actions": {
                  "constant_value": [
                    "s3:GetAccessPoint",
                    "s3:GetAccessPointPolicy",
                    "s3:GetAccessPointPolicyStatus",
                    "s3:GetAccountPublicAccessBlock",
                    "s3:GetBucketAcl",
                    "s3:GetBucketLocation",
                    "s3:GetBucketPolicyStatus",
                    "s3:GetBucketPolicy",
                    "s3:GetBucketPublicAccessBlock",
                    "s3:ListAccessPoints",
                    "s3:ListAllMyBuckets"
                  ]
                },
                "principals": [
                  {
                    "identifiers": {
                      "constant_value": [
                        "arn:aws:iam::1234567890:role/HIPAWSServiceConfigRole",
                        "arn:aws:iam::1234567890:role/HIPSecurityAuditRole"
                      ]
                    },
                    "type": {
                      "constant_value": "AWS"
                    }
                  },
                  {
                    "identifiers": {
                      "constant_value": [
                        "access-analyzer.amazonaws.com"
                      ]
                    },
                    "type": {
                      "constant_value": "Service"
                    }
                  }
                ],
                "resources": {
                  "references": [
                    "aws_s3_bucket.example.arn",
                    "aws_s3_bucket.example"
                  ]
                },
                "sid": {
                  "constant_value": "Enable Audit Access"
                }
              }
            ]
          },
          "schema_version": 0
        }
      ],
      "module_calls": {
        "dynamodb_table": {
          "source": "terraform-aws-modules/dynamodb-table/aws",
          "expressions": {
            "attributes": {
              "constant_value": [
                {
                  "name": "id",
                  "type": "N"
                }
              ]
            },
            "hash_key": {
              "constant_value": "id"
            },
            "name": {
              "constant_value": "my-table"
            },
            "tags": {
              "constant_value": {
                "Environment": "staging",
                "Terraform": "true"
              }
            }
          },
          "module": {
            "outputs": {
              "dynamodb_table_arn": {
                "expression": {
                  "references": [
                    "aws_dynamodb_table.this[0].arn",
                    "aws_dynamodb_table.this[0]",
                    "aws_dynamodb_table.this",
                    "aws_dynamodb_table.autoscaled[0].arn",
                    "aws_dynamodb_table.autoscaled[0]",
                    "aws_dynamodb_table.autoscaled",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0].arn",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                    "aws_dynamodb_table.autoscaled_gsi_ignore"
                  ]
                },
                "description": "ARN of the DynamoDB table"
              },
              "dynamodb_table_id": {
                "expression": {
                  "references": [
                    "aws_dynamodb_table.this[0].id",
                    "aws_dynamodb_table.this[0]",
                    "aws_dynamodb_table.this",
                    "aws_dynamodb_table.autoscaled[0].id",
                    "aws_dynamodb_table.autoscaled[0]",
                    "aws_dynamodb_table.autoscaled",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0].id",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                    "aws_dynamodb_table.autoscaled_gsi_ignore"
                  ]
                },
                "description": "ID of the DynamoDB table"
              },
              "dynamodb_table_stream_arn": {
                "expression": {
                  "references": [
                    "var.stream_enabled",
                    "aws_dynamodb_table.this[0].stream_arn",
                    "aws_dynamodb_table.this[0]",
                    "aws_dynamodb_table.this",
                    "aws_dynamodb_table.autoscaled[0].stream_arn",
                    "aws_dynamodb_table.autoscaled[0]",
                    "aws_dynamodb_table.autoscaled",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0].stream_arn",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                    "aws_dynamodb_table.autoscaled_gsi_ignore"
                  ]
                },
                "description": "The ARN of the Table Stream. Only available when var.stream_enabled is true"
              },
              "dynamodb_table_stream_label": {
                "expression": {
                  "references": [
                    "var.stream_enabled",
                    "aws_dynamodb_table.this[0].stream_label",
                    "aws_dynamodb_table.this[0]",
                    "aws_dynamodb_table.this",
                    "aws_dynamodb_table.autoscaled[0].stream_label",
                    "aws_dynamodb_table.autoscaled[0]",
                    "aws_dynamodb_table.autoscaled",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0].stream_label",
                    "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                    "aws_dynamodb_table.autoscaled_gsi_ignore"
                  ]
                },
                "description": "A timestamp, in ISO 8601 format of the Table Stream. Only available when var.stream_enabled is true"
              }
            },
            "resources": [
              {
                "address": "aws_appautoscaling_policy.index_read_policy",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "index_read_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "aws_appautoscaling_target.index_read",
                      "each.key"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_appautoscaling_target.index_read",
                      "each.key"
                    ]
                  },
                  "scalable_dimension": {
                    "references": [
                      "aws_appautoscaling_target.index_read",
                      "each.key"
                    ]
                  },
                  "service_namespace": {
                    "references": [
                      "aws_appautoscaling_target.index_read",
                      "each.key"
                    ]
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "constant_value": "DynamoDBReadCapacityUtilization"
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_indexes"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_policy.index_write_policy",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "index_write_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "aws_appautoscaling_target.index_write",
                      "each.key"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_appautoscaling_target.index_write",
                      "each.key"
                    ]
                  },
                  "scalable_dimension": {
                    "references": [
                      "aws_appautoscaling_target.index_write",
                      "each.key"
                    ]
                  },
                  "service_namespace": {
                    "references": [
                      "aws_appautoscaling_target.index_write",
                      "each.key"
                    ]
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "constant_value": "DynamoDBWriteCapacityUtilization"
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.autoscaling_defaults",
                          "each.value"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_indexes"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_policy.table_read_policy",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "table_read_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "aws_appautoscaling_target.table_read[0].resource_id",
                      "aws_appautoscaling_target.table_read[0]",
                      "aws_appautoscaling_target.table_read"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_appautoscaling_target.table_read[0].resource_id",
                      "aws_appautoscaling_target.table_read[0]",
                      "aws_appautoscaling_target.table_read"
                    ]
                  },
                  "scalable_dimension": {
                    "references": [
                      "aws_appautoscaling_target.table_read[0].scalable_dimension",
                      "aws_appautoscaling_target.table_read[0]",
                      "aws_appautoscaling_target.table_read"
                    ]
                  },
                  "service_namespace": {
                    "references": [
                      "aws_appautoscaling_target.table_read[0].service_namespace",
                      "aws_appautoscaling_target.table_read[0]",
                      "aws_appautoscaling_target.table_read"
                    ]
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "constant_value": "DynamoDBReadCapacityUtilization"
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_read",
                          "var.autoscaling_defaults[\"scale_in_cooldown\"]",
                          "var.autoscaling_defaults"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_read",
                          "var.autoscaling_defaults[\"scale_out_cooldown\"]",
                          "var.autoscaling_defaults"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.autoscaling_read",
                          "var.autoscaling_defaults[\"target_value\"]",
                          "var.autoscaling_defaults"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_read"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_policy.table_write_policy",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "table_write_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "aws_appautoscaling_target.table_write[0].resource_id",
                      "aws_appautoscaling_target.table_write[0]",
                      "aws_appautoscaling_target.table_write"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_appautoscaling_target.table_write[0].resource_id",
                      "aws_appautoscaling_target.table_write[0]",
                      "aws_appautoscaling_target.table_write"
                    ]
                  },
                  "scalable_dimension": {
                    "references": [
                      "aws_appautoscaling_target.table_write[0].scalable_dimension",
                      "aws_appautoscaling_target.table_write[0]",
                      "aws_appautoscaling_target.table_write"
                    ]
                  },
                  "service_namespace": {
                    "references": [
                      "aws_appautoscaling_target.table_write[0].service_namespace",
                      "aws_appautoscaling_target.table_write[0]",
                      "aws_appautoscaling_target.table_write"
                    ]
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "constant_value": "DynamoDBWriteCapacityUtilization"
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_write",
                          "var.autoscaling_defaults[\"scale_in_cooldown\"]",
                          "var.autoscaling_defaults"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_write",
                          "var.autoscaling_defaults[\"scale_out_cooldown\"]",
                          "var.autoscaling_defaults"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.autoscaling_write",
                          "var.autoscaling_defaults[\"target_value\"]",
                          "var.autoscaling_defaults"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_write"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_target.index_read",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "index_read",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "each.value[\"read_max_capacity\"]",
                      "each.value"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "each.value[\"read_min_capacity\"]",
                      "each.value"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_dynamodb_table.autoscaled[0].name",
                      "aws_dynamodb_table.autoscaled[0]",
                      "aws_dynamodb_table.autoscaled",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0].name",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                      "aws_dynamodb_table.autoscaled_gsi_ignore",
                      "each.key"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "dynamodb:index:ReadCapacityUnits"
                  },
                  "service_namespace": {
                    "constant_value": "dynamodb"
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_indexes"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_target.index_write",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "index_write",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "each.value[\"write_max_capacity\"]",
                      "each.value"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "each.value[\"write_min_capacity\"]",
                      "each.value"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_dynamodb_table.autoscaled[0].name",
                      "aws_dynamodb_table.autoscaled[0]",
                      "aws_dynamodb_table.autoscaled",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0].name",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                      "aws_dynamodb_table.autoscaled_gsi_ignore",
                      "each.key"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "dynamodb:index:WriteCapacityUnits"
                  },
                  "service_namespace": {
                    "constant_value": "dynamodb"
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_indexes"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_target.table_read",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "table_read",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "var.autoscaling_read[\"max_capacity\"]",
                      "var.autoscaling_read"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "var.read_capacity"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_dynamodb_table.autoscaled[0].name",
                      "aws_dynamodb_table.autoscaled[0]",
                      "aws_dynamodb_table.autoscaled",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0].name",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                      "aws_dynamodb_table.autoscaled_gsi_ignore"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "dynamodb:table:ReadCapacityUnits"
                  },
                  "service_namespace": {
                    "constant_value": "dynamodb"
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_read"
                  ]
                }
              },
              {
                "address": "aws_appautoscaling_target.table_write",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "table_write",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "var.autoscaling_write[\"max_capacity\"]",
                      "var.autoscaling_write"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "var.write_capacity"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_dynamodb_table.autoscaled[0].name",
                      "aws_dynamodb_table.autoscaled[0]",
                      "aws_dynamodb_table.autoscaled",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0].name",
                      "aws_dynamodb_table.autoscaled_gsi_ignore[0]",
                      "aws_dynamodb_table.autoscaled_gsi_ignore"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "dynamodb:table:WriteCapacityUnits"
                  },
                  "service_namespace": {
                    "constant_value": "dynamodb"
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.autoscaling_write"
                  ]
                }
              },
              {
                "address": "aws_dynamodb_table.autoscaled",
                "mode": "managed",
                "type": "aws_dynamodb_table",
                "name": "autoscaled",
                "provider_config_key": "aws",
                "expressions": {
                  "billing_mode": {
                    "references": [
                      "var.billing_mode"
                    ]
                  },
                  "deletion_protection_enabled": {
                    "references": [
                      "var.deletion_protection_enabled"
                    ]
                  },
                  "hash_key": {
                    "references": [
                      "var.hash_key"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "point_in_time_recovery": [
                    {
                      "enabled": {
                        "references": [
                          "var.point_in_time_recovery_enabled"
                        ]
                      }
                    }
                  ],
                  "range_key": {
                    "references": [
                      "var.range_key"
                    ]
                  },
                  "read_capacity": {
                    "references": [
                      "var.read_capacity"
                    ]
                  },
                  "server_side_encryption": [
                    {
                      "enabled": {
                        "references": [
                          "var.server_side_encryption_enabled"
                        ]
                      },
                      "kms_key_arn": {
                        "references": [
                          "var.server_side_encryption_kms_key_arn"
                        ]
                      }
                    }
                  ],
                  "stream_enabled": {
                    "references": [
                      "var.stream_enabled"
                    ]
                  },
                  "stream_view_type": {
                    "references": [
                      "var.stream_view_type"
                    ]
                  },
                  "table_class": {
                    "references": [
                      "var.table_class"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.name"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.timeouts"
                      ]
                    }
                  },
                  "ttl": [
                    {
                      "attribute_name": {
                        "references": [
                          "var.ttl_attribute_name"
                        ]
                      },
                      "enabled": {
                        "references": [
                          "var.ttl_enabled"
                        ]
                      }
                    }
                  ],
                  "write_capacity": {
                    "references": [
                      "var.write_capacity"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.ignore_changes_global_secondary_index"
                  ]
                }
              },
              {
                "address": "aws_dynamodb_table.autoscaled_gsi_ignore",
                "mode": "managed",
                "type": "aws_dynamodb_table",
                "name": "autoscaled_gsi_ignore",
                "provider_config_key": "aws",
                "expressions": {
                  "billing_mode": {
                    "references": [
                      "var.billing_mode"
                    ]
                  },
                  "deletion_protection_enabled": {
                    "references": [
                      "var.deletion_protection_enabled"
                    ]
                  },
                  "hash_key": {
                    "references": [
                      "var.hash_key"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "point_in_time_recovery": [
                    {
                      "enabled": {
                        "references": [
                          "var.point_in_time_recovery_enabled"
                        ]
                      }
                    }
                  ],
                  "range_key": {
                    "references": [
                      "var.range_key"
                    ]
                  },
                  "read_capacity": {
                    "references": [
                      "var.read_capacity"
                    ]
                  },
                  "server_side_encryption": [
                    {
                      "enabled": {
                        "references": [
                          "var.server_side_encryption_enabled"
                        ]
                      },
                      "kms_key_arn": {
                        "references": [
                          "var.server_side_encryption_kms_key_arn"
                        ]
                      }
                    }
                  ],
                  "stream_enabled": {
                    "references": [
                      "var.stream_enabled"
                    ]
                  },
                  "stream_view_type": {
                    "references": [
                      "var.stream_view_type"
                    ]
                  },
                  "table_class": {
                    "references": [
                      "var.table_class"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.name"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.timeouts"
                      ]
                    }
                  },
                  "ttl": [
                    {
                      "attribute_name": {
                        "references": [
                          "var.ttl_attribute_name"
                        ]
                      },
                      "enabled": {
                        "references": [
                          "var.ttl_enabled"
                        ]
                      }
                    }
                  ],
                  "write_capacity": {
                    "references": [
                      "var.write_capacity"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled",
                    "var.ignore_changes_global_secondary_index"
                  ]
                }
              },
              {
                "address": "aws_dynamodb_table.this",
                "mode": "managed",
                "type": "aws_dynamodb_table",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "billing_mode": {
                    "references": [
                      "var.billing_mode"
                    ]
                  },
                  "deletion_protection_enabled": {
                    "references": [
                      "var.deletion_protection_enabled"
                    ]
                  },
                  "hash_key": {
                    "references": [
                      "var.hash_key"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "point_in_time_recovery": [
                    {
                      "enabled": {
                        "references": [
                          "var.point_in_time_recovery_enabled"
                        ]
                      }
                    }
                  ],
                  "range_key": {
                    "references": [
                      "var.range_key"
                    ]
                  },
                  "read_capacity": {
                    "references": [
                      "var.read_capacity"
                    ]
                  },
                  "server_side_encryption": [
                    {
                      "enabled": {
                        "references": [
                          "var.server_side_encryption_enabled"
                        ]
                      },
                      "kms_key_arn": {
                        "references": [
                          "var.server_side_encryption_kms_key_arn"
                        ]
                      }
                    }
                  ],
                  "stream_enabled": {
                    "references": [
                      "var.stream_enabled"
                    ]
                  },
                  "stream_view_type": {
                    "references": [
                      "var.stream_view_type"
                    ]
                  },
                  "table_class": {
                    "references": [
                      "var.table_class"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.name"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.timeouts"
                      ]
                    }
                  },
                  "ttl": [
                    {
                      "attribute_name": {
                        "references": [
                          "var.ttl_attribute_name"
                        ]
                      },
                      "enabled": {
                        "references": [
                          "var.ttl_enabled"
                        ]
                      }
                    }
                  ],
                  "write_capacity": {
                    "references": [
                      "var.write_capacity"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.create_table",
                    "var.autoscaling_enabled"
                  ]
                }
              }
            ],
            "variables": {
              "attributes": {
                "default": [],
                "description": "List of nested attribute definitions. Only required for hash_key and range_key attributes. Each attribute has two properties: name - (Required) The name of the attribute, type - (Required) Attribute type, which must be a scalar type: S, N, or B for (S)tring, (N)umber or (B)inary data"
              },
              "autoscaling_defaults": {
                "default": {
                  "scale_in_cooldown": "0",
                  "scale_out_cooldown": "0",
                  "target_value": "70"
                },
                "description": "A map of default autoscaling settings"
              },
              "autoscaling_enabled": {
                "default": false,
                "description": "Whether or not to enable autoscaling. See note in README about this setting"
              },
              "autoscaling_indexes": {
                "default": {},
                "description": "A map of index autoscaling configurations. See example in examples/autoscaling"
              },
              "autoscaling_read": {
                "default": {},
                "description": "A map of read autoscaling settings. `max_capacity` is the only required key. See example in examples/autoscaling"
              },
              "autoscaling_write": {
                "default": {},
                "description": "A map of write autoscaling settings. `max_capacity` is the only required key. See example in examples/autoscaling"
              },
              "billing_mode": {
                "default": "PAY_PER_REQUEST",
                "description": "Controls how you are billed for read/write throughput and how you manage capacity. The valid values are PROVISIONED or PAY_PER_REQUEST"
              },
              "create_table": {
                "default": true,
                "description": "Controls if DynamoDB table and associated resources are created"
              },
              "deletion_protection_enabled": {
                "default": null,
                "description": "Enables deletion protection for table"
              },
              "global_secondary_indexes": {
                "default": [],
                "description": "Describe a GSI for the table; subject to the normal limits on the number of GSIs, projected attributes, etc."
              },
              "hash_key": {
                "default": null,
                "description": "The attribute to use as the hash (partition) key. Must also be defined as an attribute"
              },
              "ignore_changes_global_secondary_index": {
                "default": false,
                "description": "Whether to ignore changes lifecycle to global secondary indices, useful for provisioned tables with scaling"
              },
              "import_table": {
                "default": {},
                "description": "Configurations for importing s3 data into a new table."
              },
              "local_secondary_indexes": {
                "default": [],
                "description": "Describe an LSI on the table; these can only be allocated at creation so you cannot change this definition after you have created the resource."
              },
              "name": {
                "default": null,
                "description": "Name of the DynamoDB table"
              },
              "point_in_time_recovery_enabled": {
                "default": false,
                "description": "Whether to enable point-in-time recovery"
              },
              "range_key": {
                "default": null,
                "description": "The attribute to use as the range (sort) key. Must also be defined as an attribute"
              },
              "read_capacity": {
                "default": null,
                "description": "The number of read units for this table. If the billing_mode is PROVISIONED, this field should be greater than 0"
              },
              "replica_regions": {
                "default": [],
                "description": "Region names for creating replicas for a global DynamoDB table."
              },
              "server_side_encryption_enabled": {
                "default": false,
                "description": "Whether or not to enable encryption at rest using an AWS managed KMS customer master key (CMK)"
              },
              "server_side_encryption_kms_key_arn": {
                "default": null,
                "description": "The ARN of the CMK that should be used for the AWS KMS encryption. This attribute should only be specified if the key is different from the default DynamoDB CMK, alias/aws/dynamodb."
              },
              "stream_enabled": {
                "default": false,
                "description": "Indicates whether Streams are to be enabled (true) or disabled (false)."
              },
              "stream_view_type": {
                "default": null,
                "description": "When an item in the table is modified, StreamViewType determines what information is written to the table's stream. Valid values are KEYS_ONLY, NEW_IMAGE, OLD_IMAGE, NEW_AND_OLD_IMAGES."
              },
              "table_class": {
                "default": null,
                "description": "The storage class of the table. Valid values are STANDARD and STANDARD_INFREQUENT_ACCESS"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "timeouts": {
                "default": {
                  "create": "10m",
                  "delete": "10m",
                  "update": "60m"
                },
                "description": "Updated Terraform resource management timeouts"
              },
              "ttl_attribute_name": {
                "default": "",
                "description": "The name of the table attribute to store the TTL timestamp in"
              },
              "ttl_enabled": {
                "default": false,
                "description": "Indicates whether ttl is enabled"
              },
              "write_capacity": {
                "default": null,
                "description": "The number of write units for this table. If the billing_mode is PROVISIONED, this field should be greater than 0"
              }
            }
          }
        }
      }
    }
  },
  "relevant_attributes": [
    {
      "resource": "aws_s3_bucket.example",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.autoscaled[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.autoscaled_gsi_ignore[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.autoscaled[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.autoscaled_gsi_ignore[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_s3_bucket.example",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "data.aws_iam_policy_document.HIPSECURITY",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.dynamodb_table.aws_dynamodb_table.this[0]",
      "attribute": [
        "arn"
      ]
    }
  ],
  "timestamp": "2024-07-30T04:11:07Z"
}
